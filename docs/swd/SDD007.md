---
active: true
derived: false
doc:
  by: sarnold
  copyright: sarnold
  major: '1'
  minor: A
  name: SW Design
  ref: ''
  title: SW Design Description
level: 1.6
links:
- REQ011: qUKUDaNQGeulO41_2F1TnXsS8nAHINYLmN5NOEVW5iY=
- REQ012: AAIZhiGP0VUr7NsZKeOjPpYg0_VnqGV8MyEKxY4VdUw=
- REQ013: yKlr-mWE4BenmtegZjOHcp4xMovfSh0KGAOAtoEUuQc=
normative: true
ref: ''
reviewed: AbyPt2PsIxcQOJYm7a6Phc5r-bSlate4ayx0jjFIQrA=
---

### Manifests and metadata

Instead of unconditionally (re)downloading each file every time, create
a JSON manifest file to track the downloaded rpm files in the active
configuration.

Candidate metadata items to track:

- associated config file name
- for each rpm file
  - file name
  - file mtime (download timestamp)
  - file digest, eg, sha256
  - file size

Suggested format is JSON, suggested location is under XDG user cache
directory.

- for each manifest file
  - use config file name with `.json` appended
  - save manifest file in XDG user cache directory
- use manifest to detect changes
- include manifest data in checks for file updates